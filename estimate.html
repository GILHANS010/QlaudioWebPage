<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estimate - QLAUDIO</title>
    <meta name="description"
        content="QLAUDIO Virtual Estimate System. Calculate a rough estimate for your audio project.">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'bg-main': '#18181b', // Main background
                        'bg-surface': '#27272a', // Surface color
                        'accent-color': '#3b82f6', // Accent blue
                    }
                }
            }
        }
    </script>
    <style>
        /* Inherit global styles from style.css where possible, adding specific overrides here */
        body {
            background-color: var(--bg-main, #18181b);
            color: #f5f5f5;
            font-family: 'Pretendard', sans-serif;
        }

        .est-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 120px 20px 100px;
        }

        .est-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .est-header h1 {
            font-size: clamp(32px, 5vw, 48px);
            font-weight: 800;
            background: linear-gradient(to right, #fff, #999);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
        }

        .est-header p {
            color: #9ca3af;
            font-size: 16px;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Calculator Cards */
        .est-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .est-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 30px;
            transition: transform 0.3s;
        }

        .est-card:hover {
            border-color: rgba(59, 130, 246, 0.5);
            background: rgba(255, 255, 255, 0.05);
        }

        .est-card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .est-card-header i {
            font-size: 24px;
            color: #60a5fa;
        }

        .est-card-header h3 {
            font-size: 20px;
            font-weight: 700;
            color: #fff;
        }

        /* Input Groups */
        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #d1d5db;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
        }

        .input-desc {
            font-size: 12px;
            color: #6b7280;
            margin-top: 4px;
            line-height: 1.4;
        }

        .est-input {
            width: 100%;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #fff;
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.2s;
        }

        .est-input:focus {
            outline: none;
            border-color: #3b82f6;
            background: rgba(0, 0, 0, 0.5);
        }

        .price-badge {
            font-size: 12px;
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
            padding: 2px 8px;
            border-radius: 4px;
        }

        /* Total Section */
        .total-section {
            background: linear-gradient(135deg, #1e1b4b, #111827);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 24px;
            padding: 40px;
            margin-top: 40px;
            position: sticky;
            bottom: 20px;
            z-index: 10;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 20px;
        }

        .total-label {
            font-size: 18px;
            color: #9ca3af;
        }

        .total-amount {
            font-size: 42px;
            font-weight: 900;
            color: #fff;
            line-height: 1;
        }

        .total-vat {
            font-size: 14px;
            color: #6b7280;
            text-align: right;
            margin-top: 5px;
        }

        .action-row {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        .btn-copy {
            flex: 1;
            background: #fff;
            color: #000;
            font-weight: 700;
            padding: 16px;
            border-radius: 99px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s;
            border: none;
            font-size: 16px;
        }

        .btn-copy:hover {
            transform: translateY(-2px);
            background: #f3f4f6;
        }

        .btn-contact {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            font-weight: 700;
            padding: 16px;
            border-radius: 99px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-decoration: none;
        }

        .btn-contact:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        @media (max-width: 768px) {
            .total-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .total-amount {
                font-size: 36px;
            }
        }

        /* Active State for Template Buttons */
        .tpl-btn.active {
            background: rgba(59, 130, 246, 0.2);
            border-color: #3b82f6;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.3);
        }
    </style>
</head>

<body>

    <!-- Simple Nav (Back to Home) -->
    <nav style="padding: 20px; position: absolute; top:0; left:0; width: 100%; z-index: 50;">
        <a href="index.html"
            style="color: #fff; text-decoration: none; font-weight: 700; display: flex; align-items: center; gap: 8px;">
            <i class="fas fa-arrow-left"></i> Back to Main
        </a>
    </nav>

    <div class="est-container">
        <div class="est-header">
            <h1>Virtual Estimate System</h1>
            <p>
                ì—…ê³„ ìµœì €ê°€ ë³´ì¥, ìµœê³ ì˜ í€„ë¦¬í‹°ë¥¼ ì•½ì†í•©ë‹ˆë‹¤.<br>
                ì•„ë˜ ê³„ì‚°ê¸°ëŠ” ëŒ€ëµì ì¸ 'ê°„ì´ ê²¬ì 'ì´ë©°, í”„ë¡œì íŠ¸ ê·œëª¨ì™€ ì˜ˆì‚°ì— ë”°ë¼<br>
                <strong>ë²ˆë“¤ í• ì¸ ë° ì¶”ê°€ ë„¤ê³ </strong>ê°€ ê°€ëŠ¥í•˜ë‹ˆ í¸í•˜ê²Œ ìƒë‹´í•´ ì£¼ì„¸ìš”.
            </p>
        </div>

        <!-- TEMPLATES SECTION -->
        <div class="template-section">
            <div style="display: flex; justify-content: center; align-items: center; gap: 12px; margin-bottom: 24px;">
                <h3 style="color: #fff; font-size: 18px; margin: 0;">ğŸš€ Quick Start Templates (ê°„í¸ í”„ë¦¬ì…‹)</h3>
                <button onclick="resetEstimate()"
                    style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #ccc; border-radius: 8px; padding: 6px 12px; font-size: 12px; cursor: pointer; transition: all 0.2s;">
                    <i class="fas fa-undo"></i> ì´ˆê¸°í™”
                </button>
            </div>

            <div class="template-grid">
                <!-- 1. Casual Puzzle -->
                <button class="tpl-btn" onclick="applyTemplate('puzzle', this)">
                    <span class="tpl-icon">ğŸ§©</span>
                    <div class="tpl-info">
                        <strong>ìºì£¼ì–¼ í¼ì¦</strong>
                        <span>ê¸°ë³¸ íš¨ê³¼ìŒ + ë°°ê²½ìŒ</span>
                    </div>
                </button>
                <!-- 2. RPG -->
                <button class="tpl-btn" onclick="applyTemplate('rpg', this)">
                    <span class="tpl-icon">âš”ï¸</span>
                    <div class="tpl-info">
                        <strong>ëª¨ë°”ì¼ RPG</strong>
                        <span>ì „íˆ¬ ë° UI ì‚¬ìš´ë“œ</span>
                    </div>
                </button>
                <!-- 3. Indie -->
                <button class="tpl-btn" onclick="applyTemplate('indie', this)">
                    <span class="tpl-icon">ğŸ®</span>
                    <div class="tpl-info">
                        <strong>ìŠ¤íŒ€ ì¸ë”” ê²Œì„</strong>
                        <span>í”Œë«í¬ë¨¸ / ì–´ë“œë²¤ì²˜</span>
                    </div>
                </button>
                <!-- 4. FPS -->
                <button class="tpl-btn" onclick="applyTemplate('fps', this)">
                    <span class="tpl-icon">ğŸ”«</span>
                    <div class="tpl-info">
                        <strong>FPS / ìŠˆíŒ…</strong>
                        <span>íƒ€ê²©ê° ìœ„ì£¼ SFX</span>
                    </div>
                </button>
                <!-- 5. Visual Novel -->
                <button class="tpl-btn" onclick="applyTemplate('vn', this)">
                    <span class="tpl-icon">ğŸ“–</span>
                    <div class="tpl-info">
                        <strong>ë¹„ì£¼ì–¼ ë…¸ë²¨</strong>
                        <span>ìŠ¤í† ë¦¬ / BGM ì¤‘ì‹¬</span>
                    </div>
                </button>
                <!-- 6. Post -->
                <button class="tpl-btn" onclick="applyTemplate('post', this)">
                    <span class="tpl-icon">ğŸ™ï¸</span>
                    <div class="tpl-info">
                        <strong>ì„±ìš° ë…¹ìŒ í¸ì§‘</strong>
                        <span>ëŒ€ì‚¬ 50ë§ˆë”” ê¸°ì¤€</span>
                    </div>
                </button>
                <!-- 7. Rhythm Game -->
                <button class="tpl-btn" onclick="applyTemplate('rhythm', this)">
                    <span class="tpl-icon">ğŸµ</span>
                    <div class="tpl-info">
                        <strong>ë¦¬ë“¬ ê²Œì„</strong>
                        <span>ê³ í’ˆì§ˆ ìŒì› ë‹¤ìˆ˜</span>
                    </div>
                </button>
                <!-- 8. Horror -->
                <button class="tpl-btn" onclick="applyTemplate('horror', this)">
                    <span class="tpl-icon">ğŸ‘»</span>
                    <div class="tpl-info">
                        <strong>ê³µí¬ / í˜¸ëŸ¬</strong>
                        <span>ì•°ë¹„ì–¸ìŠ¤ & ê³µí¬ ë¶„ìœ„ê¸°</span>
                    </div>
                </button>
                <!-- 9. Hyper Casual -->
                <button class="tpl-btn" onclick="applyTemplate('hyper', this)">
                    <span class="tpl-icon">âš¡</span>
                    <div class="tpl-info">
                        <strong>í•˜ì´í¼ ìºì£¼ì–¼</strong>
                        <span>ìµœì†Œí•œì˜ ì‚¬ìš´ë“œ</span>
                    </div>
                </button>
                <!-- 10. MMORPG -->
                <button class="tpl-btn" onclick="applyTemplate('mmo', this)">
                    <span class="tpl-icon">ğŸ°</span>
                    <div class="tpl-info">
                        <strong>ëŒ€í˜• MMORPG</strong>
                        <span>ë°©ëŒ€í•œ ë¦¬ì†ŒìŠ¤ í•„ìš”</span>
                    </div>
                </button>
                <!-- 11. Metaverse -->
                <button class="tpl-btn" onclick="applyTemplate('meta', this)">
                    <span class="tpl-icon">ğŸŒ</span>
                    <div class="tpl-info">
                        <strong>ë©”íƒ€ë²„ìŠ¤ / ì•±</strong>
                        <span>UI ë° ì¸í„°ë™ì…˜</span>
                    </div>
                </button>
                <!-- 12. Kids -->
                <button class="tpl-btn" onclick="applyTemplate('kids', this)">
                    <span class="tpl-icon">ğŸ§¸</span>
                    <div class="tpl-info">
                        <strong>í‚¤ì¦ˆ / êµìœ¡</strong>
                        <span>ê·€ì—½ê³  ë°ì€ ì‚¬ìš´ë“œ</span>
                    </div>
                </button>
                <!-- 13. YouTube -->
                <button class="tpl-btn" onclick="applyTemplate('youtube', this)">
                    <span class="tpl-icon">â–¶ï¸</span>
                    <div class="tpl-info">
                        <strong>ìœ íŠœë¸Œ ì»¨í…ì¸ </strong>
                        <span>ì¸íŠ¸ë¡œ / íš¨ê³¼ìŒ</span>
                    </div>
                </button>
                <!-- 14. Podcast -->
                <button class="tpl-btn" onclick="applyTemplate('podcast', this)">
                    <span class="tpl-icon">ğŸ§</span>
                    <div class="tpl-info">
                        <strong>íŒŸìºìŠ¤íŠ¸ í¸ì§‘</strong>
                        <span>ë…¸ì´ì¦ˆ ì œê±° / ë¯¹ì‹±</span>
                    </div>
                </button>
                <!-- 15. ASMR -->
                <button class="tpl-btn" onclick="applyTemplate('asmr', this)">
                    <span class="tpl-icon">ğŸ‘‚</span>
                    <div class="tpl-info">
                        <strong>ASMR / íë§</strong>
                        <span>ê³ í•´ìƒë„ í´ë¦¬ë‹</span>
                    </div>
                </button>
            </div>
        </div>

        <style>
            .template-section {
                margin-bottom: 40px;
                padding: 0 10px;
            }

            .template-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
                gap: 12px;
                max-width: 1000px;
                margin: 0 auto;
            }

            .tpl-btn {
                background: rgba(255, 255, 255, 0.05);
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 16px;
                padding: 16px;
                display: flex;
                align-items: center;
                gap: 12px;
                cursor: pointer;
                transition: all 0.2s;
                text-align: left;
            }

            .tpl-btn:hover {
                background: rgba(59, 130, 246, 0.1);
                border-color: #3b82f6;
                transform: translateY(-2px);
            }

            .tpl-icon {
                font-size: 24px;
            }

            .tpl-info {
                display: flex;
                flex-direction: column;
            }

            .tpl-info strong {
                color: #fff;
                font-size: 15px;
                display: block;
                margin-bottom: 2px;
            }

            .tpl-info span {
                color: #888;
                font-size: 11px;
            }
        </style>

        <div class="est-grid">
            <!-- 1. SFX ESTIMATE -->
            <div class="est-card">
                <div class="est-card-header">
                    <i class="fas fa-volume-up"></i>
                    <h3>SFX Estimator</h3>
                </div>

                <div class="input-group">
                    <label class="input-label">
                        Simple SFX
                        <span class="price-badge">30,000ì› / ê°œ</span>
                    </label>
                    <input type="number" id="sfx-simple" class="est-input" placeholder="0" min="0"
                        oninput="calculateTotal()">
                    <p class="input-desc">ë‹¨ìˆœ íš¨ê³¼ìŒ (UI, í´ë¦­ìŒ, ë°œìêµ­ ë“±)</p>
                </div>

                <div class="input-group">
                    <label class="input-label">
                        Standard SFX
                        <span class="price-badge">50,000ì› / ê°œ</span>
                    </label>
                    <input type="number" id="sfx-medium" class="est-input" placeholder="0" min="0"
                        oninput="calculateTotal()">
                    <p class="input-desc">ì¤‘ê¸‰ íš¨ê³¼ìŒ (ê¸°ë³¸ ìŠ¤í‚¬, íƒ€ê²©, í”¼ê²©, ëª¬ìŠ¤í„°, ë¬¸ ê°œí ë“±)</p>
                </div>

                <div class="input-group">
                    <label class="input-label">
                        Complex SFX
                        <span class="price-badge">100,000ì› / ê°œ</span>
                    </label>
                    <input type="number" id="sfx-complex" class="est-input" placeholder="0" min="0"
                        oninput="calculateTotal()">
                    <p class="input-desc">ê³ ê¸‰ íš¨ê³¼ìŒ (ê¶ê·¹ê¸°, ë³´ìŠ¤, ì•°ë¹„ì–¸ìŠ¤ ë£¨í”„, ë³µì¡í•œ ê¸°ê³„ìŒ, MFX)</p>
                </div>
            </div>

            <!-- 2. BGM ESTIMATE -->
            <div class="est-card">
                <div class="est-card-header">
                    <i class="fas fa-music"></i>
                    <h3>BGM Production</h3>
                </div>
                <p style="font-size: 13px; color: #888; margin-bottom: 20px;">
                    * ì €ì‘ê¶Œ ì™„ì „ ì–‘ë„, DLC/ë””ëŸ­ìŠ¤ íŒë§¤ ë“± 2ì°¨ ìˆ˜ìµ ì°½ì¶œ ê°€ëŠ¥
                </p>

                <div class="input-group">
                    <label class="input-label">
                        Simple Track
                        <span class="price-badge">500,000ì› / ê³¡</span>
                    </label>
                    <input type="number" id="bgm-simple" class="est-input" placeholder="0" min="0"
                        oninput="calculateTotal()">
                    <p class="input-desc">ì•…ê¸° êµ¬ì„±ì´ ì ì€ ì‹¬í”Œí•œ ì¥ë¥´, ì§§ì€ ì•„ì¼€ì´ë“œ ê³¡ ë“±</p>
                </div>

                <div class="input-group">
                    <label class="input-label">
                        Standard Track
                        <span class="price-badge">1,000,000ì› / ê³¡</span>
                    </label>
                    <input type="number" id="bgm-standard" class="est-input" placeholder="0" min="0"
                        oninput="calculateTotal()">
                    <p class="input-desc">ì¼ë°˜ì ì¸ ê²Œì„ BGM (ë°´ë“œ, ìºì£¼ì–¼ ì˜¤ì¼€, ì¼ë ‰íŠ¸ë¡œë‹‰, ë¡œê³ ì†¡ ë“±)</p>
                </div>

                <div class="input-group">
                    <label class="input-label">
                        Hard / Epic
                        <span class="price-badge">1,500,000ì› / ê³¡</span>
                    </label>
                    <input type="number" id="bgm-hard" class="est-input" placeholder="0" min="0"
                        oninput="calculateTotal()">
                    <p class="input-desc">ëŒ€í¸ì„± ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜, ë³µì¡í•œ í…Œë§ˆê³¡, ë©”ì¸ íƒ€ì´í‹€</p>
                </div>
            </div>

            <!-- 3. POST-PRODUCTION -->
            <div class="est-card">
                <div class="est-card-header">
                    <i class="fas fa-sliders-h"></i>
                    <h3>Post-Production</h3>
                </div>
                <p style="font-size: 13px; color: #888; margin-bottom: 20px;">
                    * ì—”ì§€ë‹ˆì–´ë§ ê¸°ë°˜(ì‹œê°„ë‹¹ 100,000ì› ê¸°ì¤€ ì˜ˆì¸¡)<br>
                    * ë‚œì´ë„ë³„ í‰ê·  ì†Œìš”ì‹œê°„ìœ¼ë¡œ ìë™ ê³„ì‚°
                </p>

                <div class="input-group">
                    <label class="input-label">
                        Simple Tasks (Qty)
                        <span class="price-badge">ì•½ 7ë¶„ ì†Œìš”/ê°œ</span>
                    </label>
                    <input type="number" id="post-simple" class="est-input" placeholder="0" min="0"
                        oninput="calculateTotal()">
                    <p class="input-desc">ë‹¨ìˆœ ë…¸ì´ì¦ˆ ì œê±°, ë ˆë²¨ ì •ê·œí™”, í˜ì´ë“œ</p>
                </div>

                <div class="input-group">
                    <label class="input-label">
                        Medium Tasks (Qty)
                        <span class="price-badge">ì•½ 20ë¶„ ì†Œìš”/ê°œ</span>
                    </label>
                    <input type="number" id="post-medium" class="est-input" placeholder="0" min="0"
                        oninput="calculateTotal()">
                    <p class="input-desc">í†¤ ë³´ì •(EQ/Comp), í´ë¦­ ì œê±°, ì‚¬ìš´ë“œ ë³€í˜•</p>
                </div>

                <div class="input-group">
                    <label class="input-label">
                        Hard Tasks (Qty)
                        <span class="price-badge">ì•½ 40ë¶„ ì†Œìš”/ê°œ</span>
                    </label>
                    <input type="number" id="post-hard" class="est-input" placeholder="0" min="0"
                        oninput="calculateTotal()">
                    <p class="input-desc">ìŒì§ˆ ë³µì›, ë¯¹ì‹±, ì†ŒìŠ¤ ì¡°í•© ë“±</p>
                </div>

                <div style="background: rgba(255,255,255,0.05); padding: 12px; border-radius: 8px; margin-top: 10px;">
                    <div style="display: flex; justify-content: space-between; font-size: 13px; color: #aaa;">
                        <span>ì˜ˆìƒ ì†Œìš” ì‹œê°„:</span>
                        <span id="post-hours" style="color: #fff; font-weight: 700;">0 hr</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- TOTAL & ACTION -->
        <div class="total-section">
            <div class="total-row">
                <div>
                    <div class="total-label">Estimated Total</div>
                    <div class="total-vat">* VAT ë³„ë„ ê¸ˆì•¡ì…ë‹ˆë‹¤.</div>
                </div>
                <div class="total-amount" id="grand-total">0 KRW</div>
            </div>

            <div class="action-row">
                <button class="btn-copy" onclick="copyEstimate()">
                    <i class="fas fa-copy" style="margin-right: 8px;"></i> ê²¬ì  ë‚´ìš© ë³µì‚¬í•˜ê¸°
                </button>
                <a href="mailto:contact@qlaudio.com?subject=[ê²¬ì  ë¬¸ì˜] ê°€ìƒ ê²¬ì ì„œë¥¼ ì²¨ë¶€í•©ë‹ˆë‹¤." class="btn-contact"
                    id="btn-contact-mail">
                    <i class="fas fa-envelope" style="margin-right: 8px;"></i> ë©”ì¼ë¡œ ë¬¸ì˜í•˜ê¸° (í• ì¸ ìƒë‹´)
                </a>
            </div>
            <p style="text-align: center; color: #666; font-size: 13px; margin-top: 20px;">
                ìœ„ ê²¬ì ì€ 'ê°„ì´ ê²¬ì 'ìœ¼ë¡œ ì‹¤ì œ ê³„ì•½ ì‹œ í”„ë¡œì íŠ¸ ë‚´ìš©ì— ë”°ë¼ ë³€ë™ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                ëŒ€ëŸ‰ ì˜ë¢° ì‹œ ë³„ë„ì˜ í• ì¸ ê²¬ì ì´ ì ìš©ë˜ì˜¤ë‹ˆ ë°˜ë“œì‹œ ìƒë‹´ì„ í†µí•´ ìµœì¢… ê¸ˆì•¡ì„ í™•ì¸í•´ ì£¼ì„¸ìš”.
            </p>
        </div>

    </div>

    <script>
        const PRICES = {
            sfx: { simple: 30000, medium: 50000, complex: 100000 },
            bgm: { simple: 500000, standard: 1000000, hard: 1500000 },
            post: { rate: 100000, t_simple: 7, t_medium: 20, t_hard: 40 } // times in minutes
        };

        const TEMPLATES = {
            puzzle: { // Simple Puzzle
                'sfx-simple': 10, 'sfx-medium': 5,
                'bgm-simple': 3
            },
            rpg: { // Casual RPG
                'sfx-simple': 30, 'sfx-medium': 50, 'sfx-complex': 5,
                'bgm-standard': 5
            },
            indie: { // Steam Indie
                'sfx-simple': 20, 'sfx-medium': 40,
                'bgm-standard': 5
            },
            fps: { // FPS Shooter (Heavy SFX)
                'sfx-medium': 60, 'sfx-complex': 10,
                'bgm-standard': 3
            },
            vn: { // Visual Novel
                'sfx-simple': 10,
                'bgm-simple': 5, 'bgm-standard': 2,
                'bgm-hard': 1
            },
            post: { // Dubbing Post
                'post-simple': 50, 'post-medium': 10
            },

            // NEW TEMPLATES
            rhythm: { // Rhythm Game
                'bgm-standard': 10
            },
            horror: { // Horror
                'sfx-medium': 10, 'sfx-complex': 20, // Ambience
                'bgm-hard': 2 // Dark theme
            },
            hyper: { // Hyper Casual
                'sfx-simple': 5,
                'bgm-simple': 1
            },
            mmo: { // MMORPG
                'sfx-medium': 100, 'sfx-complex': 20,
                'bgm-standard': 10, 'bgm-hard': 5
            },
            meta: { // Metaverse
                'sfx-simple': 30
            },
            kids: { // Kids / Edu
                'sfx-simple': 20,
                'bgm-simple': 5
            },
            youtube: { // YouTube
                'sfx-simple': 5,
                'bgm-simple': 1 // Intro
            },
            podcast: { // Podcast
                'post-medium': 4 // Approx 4 episodes cleanup? Or 4 parts.
            },
            asmr: { // ASMR
                'post-hard': 5 // High quality cleanup
            }
        };

        function getVal(id) {
            return parseInt(document.getElementById(id).value) || 0;
        }

        function formatCurrency(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",") + " KRW";
        }

        function applyTemplate(type, btnElement) {
            // Reset all inputs
            document.querySelectorAll('.est-input').forEach(el => el.value = '');

            // Remove active class from all buttons
            document.querySelectorAll('.tpl-btn').forEach(btn => btn.classList.remove('active'));

            // Add active class to clicked button
            if (btnElement) {
                btnElement.classList.add('active');
            }

            // Apply Template Data
            const data = TEMPLATES[type];
            if (data) {
                for (let id in data) {
                    const el = document.getElementById(id);
                    if (el) el.value = data[id];
                }
                calculateTotal(); // Recalculate
            }
        }

        function resetEstimate() {
            // Reset all inputs
            document.querySelectorAll('.est-input').forEach(el => el.value = '');

            // Remove active class from all buttons
            document.querySelectorAll('.tpl-btn').forEach(btn => btn.classList.remove('active'));

            // Recalculate (will zero out)
            calculateTotal();

            alert("ê²¬ì ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.");
        }

        function calculateTotal() {
            // SFX
            const sfxCost = (getVal('sfx-simple') * PRICES.sfx.simple) +
                (getVal('sfx-medium') * PRICES.sfx.medium) +
                (getVal('sfx-complex') * PRICES.sfx.complex);

            // BGM
            const bgmCost = (getVal('bgm-simple') * PRICES.bgm.simple) +
                (getVal('bgm-standard') * PRICES.bgm.standard) +
                (getVal('bgm-hard') * PRICES.bgm.hard);

            // POST
            const postMins = (getVal('post-simple') * PRICES.post.t_simple) +
                (getVal('post-medium') * PRICES.post.t_medium) +
                (getVal('post-hard') * PRICES.post.t_hard);

            const postHours = postMins / 60;
            const postCost = postHours * PRICES.post.rate;

            // Update Post UI
            document.getElementById('post-hours').innerText = postHours.toFixed(1) + " hr";

            // Total
            const grandTotal = sfxCost + bgmCost + postCost;
            document.getElementById('grand-total').innerText = formatCurrency(Math.floor(grandTotal));

            const data = { sfxCost, bgmCost, postCost, postHours, grandTotal };
            updateMailLink(data); // Live update mail link

            return data;
        }

        function generateEstimateText(data) {
            return `
[QLAUDIO Virtual Estimate]

1. SFX Assets
- Simple: ${getVal('sfx-simple')} ea
- Standard: ${getVal('sfx-medium')} ea
- Complex: ${getVal('sfx-complex')} ea
> Subtotal: ${formatCurrency(data.sfxCost)}

2. BGM Production
- Simple: ${getVal('bgm-simple')} ea
- Standard: ${getVal('bgm-standard')} ea
- Hard: ${getVal('bgm-hard')} ea
> Subtotal: ${formatCurrency(data.bgmCost)}

3. Post-Production
- Files: Simple(${getVal('post-simple')}), Med(${getVal('post-medium')}), Hard(${getVal('post-hard')})
- Est. Time: ${data.postHours.toFixed(1)} hours (@ 100,000 KRW/hr)
> Subtotal: ${formatCurrency(Math.floor(data.postCost))}

================================
TOTAL ESTIMATE: ${formatCurrency(Math.floor(data.grandTotal))} (VAT ë³„ë„)
================================
* ìœ„ ê²¬ì ì€ ê°€ìƒ ê²¬ì ì´ë©° ì‹¤ì œ ì§„í–‰ ì‹œ í• ì¸ ë° ë³€ë™ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
`.trim();
        }

        function updateMailLink(data) {
            const text = generateEstimateText(data);
            const subject = encodeURIComponent("[ê²¬ì  ë¬¸ì˜] ê°€ìƒ ê²¬ì ì„œë¥¼ ì²¨ë¶€í•©ë‹ˆë‹¤.");
            const body = encodeURIComponent(text);
            const mailto = `mailto:contact@qlaudio.com?subject=${subject}&body=${body}`;

            const btn = document.getElementById('btn-contact-mail');
            if (btn) btn.href = mailto;
        }

        function copyEstimate() {
            const data = calculateTotal(); // Recalc to be safe, or could pass state
            const text = generateEstimateText(data);
            navigator.clipboard.writeText(text).then(() => {
                alert("ê²¬ì  ë‚´ìš©ì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ì´ë©”ì¼ì— ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.");
            });
        }
    </script>
</body>

</html>